<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Editar Post | Blog Personal</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet" />
  
  <!-- CSS -->
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <!-- ======= CABECERA ======= -->
  <header>
    <h1>✏️ Editar Publicación</h1>
    <nav>
      <a href="/">Inicio</a>
      <a href="/posts">Publicaciones</a>
      <a href="/posts/<%= post.id %>">Volver al post</a>
      <% if (user) { %>
        <span>Hola, <%= user.username %></span>
        <a href="/logout">Cerrar sesión</a>
      <% } else { %>
        <a href="/login">Iniciar sesión</a>
        <a href="/register">Registrarse</a>
      <% } %>
    </nav>
  </header>

  <!-- ======= FORMULARIO EDITAR POST ======= -->
  <main class="login-container">
    <h2>Modifica tu publicación</h2>
    <p>Haz los cambios necesarios y actualiza el contenido.</p>

    <% if (error) { %>
      <div class="error-message"><%= error %></div>
    <% } %>

    <form action="/posts/<%= post.id %>/editar" method="POST">
      <label for="titulo">Título</label>
      <input
        type="text"
        id="titulo"
        name="titulo"
        value="<%= post.titulo %>"
        required
        placeholder="Título actualizado del post"
      />

      <label for="contenido">Contenido</label>
      <textarea
        id="contenido"
        name="contenido"
        rows="10"
        required
        placeholder="Edita el contenido del post aquí..."
      ><%= post.contenido %></textarea>

      <button type="submit">Actualizar</button>
    </form>
  </main>

  <!-- ======= PIE DE PÁGINA ======= -->
  <footer>
    <p>&copy; 2025 Blog Personal — Todos los derechos reservados</p>
  </footer>
</body>
</html>
